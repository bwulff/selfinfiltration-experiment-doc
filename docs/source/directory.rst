.. _directory_structure:
Directory Structure
===================

The experiment consists of the following files and directories::

  Pictures                 : directory containing images used in phase 3
  itemlist_<name>.txt      : item list files
  phase1_pre-rating.ebs2   : runnable file for phase 1
  phase1_pre-rating.es2    : source file for phase 1
  phase2_assignment.ebs2   : runnable file for phase 2
  phase2_assignment.es2    : source file for phase 2
  phase3_report.ebs2       : runnable file for phase 3
  phase3_report.es2        : source file for phase 3
  phase4_post-rating.ebs2  : runnable file for phase 4
  phase4_post-rating.es2   : source file for phase 4
  resting_state.ebs2       : runnable file for resting state phase
  resting_state.es2        : source file for resting state phase

The `.ebs2` files are the runnable EPrime procedures for each of the five phases.
EPrime will create several other files upon running a phase. They are not important,
you can ignore them.


Subject specific directory
--------------------------
The experiment creates a sub-directory in the experiment directory for each
subject. The directory name reflects the subject number and the session number
(usually 1 because this experiment has only one session per participant).

Example::

  subject_<subject number>_session_1

:Attention:
  In order to achieve correct data collection all phases must write the data for
  a subject into the same sub-directory. It is important that the correct subject and
  session numbers are set at the beginning of each phase. Also note that the
  session number should always be 1 - the session number does NOT reflect the
  phase in the experiment.

When the phases haven been run the content of a subject specific directory may
look the following::

  list_data.dat         : List data in Eprime data format (loaded by experiment)
  list_data.csv         : List data in CSV format (Excel compatible)
  item_data_phaseN.dat  : Item table after phase N in EPrime data format (loaded by experiment)
  item_data_phaseN.csv  : Item table after phase N in CSV format (Excel compatible)
  phaseN.debug          : Debug output of phase N

  Additional .edat2, .txt and .xml files are generated by EPrime.

Each phase loads the item table (`.dat`) saved by the phase before and writes the
item table extended by the data collected during the phase to a different file having
`_pahseN` at the end. The `.dat` files are used by the experiment to save the data.
If you need to work with the data you can load the `.csv` version of the file directly
into MS Excel or Matlab.

The .txt contain the EPrime event logs from the execution of the phases. You can use
these logs to anaylse the answer timing of the participant. The log files can be
transformed into `.csv` form with the `EPrime Log File Parser <https://bitbucket.org/bwulff/eprime-log-parser>`_.

The `.debug` files contain the messages written to the 'Debug' Window in EPrime
during execution of the phase.



Running phases on different computers
-------------------------------------

The experiment consists of phases conducted inside the MRI scanner as well as outside
of the scanner. Thus the different phases will most likely run on disparate machines.
Because later phases depend on data from earlier phases the subject specific directory
has to be copied over to the machine running the next phase before commencing
execution of the next phase.
